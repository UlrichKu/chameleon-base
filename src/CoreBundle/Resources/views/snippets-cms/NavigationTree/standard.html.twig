{# @var treeNodes \ChameleonSystem\CoreBundle\DataModel\BackendTreeNodeDataModel #}

{% if isInIframe == false %}

<div class="card">
    <div class="card-header">
        <h3>{{ 'chameleon_system_core.cms_module_page_tree.headline' | trans }}</h3>
    </div>
    <div class="card-body simple-tree-card">
{% endif %}
        <div class="row m-0">
            <div class="col-12 col-md-6 col-xl-8">
                <div id="navigationTreeDataContainer" class="mb-4"
                     data-field-name = "{{ fieldName }}"
                     data-tree-nodes-ajax-url = "{{ treeNodesAjaxUrl | raw }}"
                     data-open-page-connection-list-url = "{{ openPageConnectionListUrl | raw }}"
                     data-open-page-editor-url = "{{ openPageEditorUrl | raw }}"
                     data-open-page-config-editor-url = "{{ openPageConfigEditorUrl | raw }}"
                     data-open-tree-node-editor-url = "{{ openTreeNodeEditorUrl | raw }}"
                     data-open-tree-node-editor-add-new-node-url = "{{ openTreeNodeEditorAddNewNodeUrl | raw }}"
                     data-delete-node-url = "{{ deleteNodeUrl | raw }}"
                     data-assign-page-url = "{{ assignPageUrl | raw }}"
                     data-move-node-url = "{{ moveNodeUrl | raw }}"
                     data-connect-page-on-select-url = "{{ connectPageOnSelectUrl | raw }}"
                     data-disconnect-page-on-deselect-url = "{{ disconnectPageOnDeselectUrl | raw }}" >

                    <div id="navigationTreeContainer{% if noAssignDialog == false %}-checkboxes{% endif %}" class="navigationTreeContainer"></div>

                </div>
            </div>
            <div class="col-12 col-md-6 col-xl-4 justify-content-end mt-4 mt-md-0">
                <div class="treelegend">
                    <h5>{{ 'chameleon_system_core.cms_module_page_tree.legend_header' | trans }}</h5>

                    {% if noAssignDialog == false %}
                        <div class="activeConnectedNode primaryConnectedNodeOfCurrentPage">
                            <div class="nodeIndicatorIcon"><i class="far fa-check-square"></i></div>
                            <div>{{ 'chameleon_system_core.cms_module_page_tree.legend_active_main_node_of_page' | trans }}</div>
                        </div>
                        <div class="activeConnectedNode">
                            <div class="nodeIndicatorIcon"><i class="far fa-check-square"></i></div>
                            <div>{{ 'chameleon_system_core.cms_module_page_tree.legend_active_further_node_of_page' | trans }}</div>
                        </div>
                        <br>
                    {% endif %}

                    <div class="text">
                        <div class="nodeIndicatorIcon"><i class="fas fa-folder-open"></i></div>
                        <div>{{ 'chameleon_system_core.cms_module_page_tree.legend_folder' | trans }}</div>
                    </div>

                    <div class="node-hidden">
                        <div class="nodeIndicatorIcon iconHidden"><i class="fas fa-eye-slash"></i></div>
                        <div>{{ 'chameleon_system_core.cms_module_page_tree.legend_node_hidden' | trans }}</div>
                    </div>

                    <div class="legendLine">
                        <div class="nodeIndicatorIcon iconExternalLink"><i class="fas fa-external-link-alt"></i></div>
                        <div>{{ 'chameleon_system_core.cms_module_page_tree.legend_external_link' | trans }}</div>
                    </div>

                    <div class="text">
                        <div class="nodeIndicatorIcon"><i class="fas fa-genderless"></i></div>
                        <div>{{ 'chameleon_system_core.cms_module_page_tree.legend_node_has_no_page' | trans }}</div>
                    </div>

                    <div class="otherConnectedNode">
                        <div class="nodeIndicatorIcon"><i class="far fa-file"></i></div>
                        <div>{{ 'chameleon_system_core.cms_module_page_tree.legend_has_connected_pages' | trans }}</div>
                    </div>

                    <div class="restrictedPage">
                        <div class="nodeIndicatorIcon iconRestricted"><i class="fas fa-user-lock"></i></div>
                        <div>{{ 'chameleon_system_core.cms_module_page_tree.legend_connected_to_protected_page' | trans }}</div>
                    </div>

                    <div class="extranetpage-hidden">
                        <div class="nodeIndicatorIcon iconHidden"><i class="far fa-eye-slash"></i></div>
                        <div>{{ 'chameleon_system_core.cms_module_page_tree.legend_extranetpage_hidden' | trans }}</div>
                    </div>
                </div>

            </div>
        </div>

{% if isInIframe == false %}
    </div>
</div>
{% endif %}

{{ breadcrumbStorageHTML | raw }}

